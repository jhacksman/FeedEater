{
  "name": "kalshi",
  "version": "0.0.1",
  "description": "Kalshi prediction market integration. Collects market data, trades, and price movements.",
  "namespace": "feedeater.kalshi",
  "runtime": { "entry": "dist/runtime.js" },
  "queues": ["mod_kalshi"],
  "jobs": [
    {
      "name": "collect",
      "queue": "mod_kalshi",
      "schedule": "*/5 * * * *",
      "description": "Collect market data and recent trades from Kalshi and persist into mod_kalshi."
    },
    {
      "name": "updateContexts",
      "queue": "mod_kalshi",
      "schedule": "*/30 * * * *",
      "description": "Refresh context summaries for active markets."
    }
  ],
  "settings": [
    { "key": "enabled", "type": "boolean", "default": false },
    { "key": "apiKey", "type": "secret", "required": false, "description": "Kalshi API key (optional for public data)" },
    { "key": "apiSecret", "type": "secret", "required": false, "description": "Kalshi API secret" },
    { "key": "watchedMarkets", "type": "string", "default": "[]", "description": "JSON array of market tickers to watch (empty = trending markets)" },
    { "key": "collectTrades", "type": "boolean", "default": true, "description": "Collect recent trades" },
    { "key": "collectOrderbook", "type": "boolean", "default": false, "description": "Collect orderbook snapshots" },
    { "key": "lookbackHours", "type": "number", "default": 24, "description": "How many hours of history to collect" },
    {
      "key": "contextPrompt",
      "type": "string",
      "default": "You are summarizing prediction market activity. Summarize ONLY the market data provided. Include current prices, volume, and notable movements. Return strict JSON with keys: summary_short and summary_long. summary_short must be <= 128 characters. summary_long should be 1-3 short paragraphs. Do not return empty strings."
    },
    {
      "key": "contextPromptFallback",
      "type": "string",
      "default": "Summarize ONLY the provided market data in plain text. 1-3 short sentences about price and volume. Do not return JSON."
    }
  ],
  "cards": [
    { "id": "kalshiStatus", "title": "Kalshi Collector" },
    { "id": "kalshiMarkets", "title": "Watched Markets" }
  ]
}
